{{ define "main" }}
<article class="post">
    <header class="post-header">
        <h1 class="post-title">{{ .Title }}</h1>
    </header>

    <div class="post-content">
        <!-- App Cover Image -->
        {{ if .Params.cover_image }}
        <div class="app-cover">
            <img src="{{ .Params.cover_image | relURL }}" alt="{{ .Title }} Cover" style="max-width: 200px; margin: 0 auto 2rem; display: block; border-radius: 8px;">
        </div>
        {{ end }}

        <!-- App Description -->
        <div class="app-description">
            {{ .Content }}
        </div>

        <!-- App Store/Website Link -->
        {{ if .Params.app_link }}
        <div class="app-link" style="text-align: center; margin: 2rem 0;">
            <a href="{{ .Params.app_link }}" target="_blank" rel="noopener" style="background: #007AFF; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block; font-weight: 500;">
                {{ if .Params.link_text }}{{ .Params.link_text }}{{ else }}View App{{ end }}
            </a>
        </div>
        {{ end }}

        <!-- Screenshots -->
        {{ if .Params.screenshots }}
        <div class="app-screenshots" style="margin-top: 3rem;">
            <h3>Screenshots</h3>
            <div class="screenshot-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem;">
                {{ range .Params.screenshots }}
                <div class="screenshot">
                    <img src="{{ . | relURL }}" alt="{{ $.Title }} Screenshot" style="width: 100%; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                </div>
                {{ end }}
            </div>
        </div>
        {{ end }}

        <!-- App Details -->
        {{ if or .Params.platform .Params.category .Params.release_date }}
        <div class="app-details" style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--border-color, #eee);">
            <h3>Details</h3>
            <ul style="list-style: none; padding: 0;">
                {{ if .Params.platform }}
                <li><strong>Platform:</strong> {{ .Params.platform }}</li>
                {{ end }}
                {{ if .Params.category }}
                <li><strong>Category:</strong> {{ .Params.category }}</li>
                {{ end }}
                {{ if .Params.release_date }}
                <li><strong>Release Date:</strong> {{ .Params.release_date }}</li>
                {{ end }}
            </ul>
        </div>
        {{ end }}
    </div>
</article>
{{ end }}